<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Something Washed Ashore</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    background: #fff;
    margin: 0;
    padding: 40px 20px;
  }

  #bottle-canvas {
    border: none;
    display: block;
    margin: 40px auto;
    background: transparent;
    width: 80%;
    max-width: 500px;
    height: 300px;
    cursor: pointer;
  }

  #bottle-canvas:hover {
    opacity: 0.8;
  }

  #message {
    font-size: 18px;
    font-style: italic;
    color: #333;
    max-width: 500px;
    margin: 30px auto;
    padding: 20px;
    border: 1px solid #ddd;
    border-radius: 8px;
    background: #fffef7;
    min-height: 80px;
    line-height: 1.6;
    display: none;
  }

  #message.show {
    display: block;
  }

  #instruction {
    font-size: 18px;
    color: #666;
    margin: 20px 0;
  }

  .back-link {
    display: inline-block;
    margin-top: 40px;
    text-decoration: none;
    color: #0066cc;
  }
</style>
</head>
<body>

<div id="instruction">Ahoy there zissou, looks like you have a message</div>

<canvas id="bottle-canvas"></canvas>

<div id="message"></div>

<br>
<a class="back-link" href="index.html">‚Üê Back to Home</a>

<script>
const canvas = document.getElementById("bottle-canvas");
const ctx = canvas.getContext("2d");

let hasOpened = false;

// Writing prompts
const prompts = [
  "Write about a secret you've never told anyone.",
  "Describe the last time you felt truly free.",
  "What would you say to your younger self?",
  "Write a letter to someone you miss.",
  "Imagine you wake up in a different life. What do you see?",
  "Tell the story of a scar, visible or invisible.",
  "Write about a moment when everything changed.",
  "Describe a place that feels like home, even if you've never been there.",
  "What song makes you cry, and why?",
  "Write about something you lost and never found.",
  "If you could relive one day, which would it be?",
  "Describe a stranger who changed your life.",
  "Write about a promise you made to yourself.",
  "What are you running from? What are you running toward?",
  "Tell the story of a door you never walked through.",
  "Write a conversation between you and the ocean.",
  "Describe the taste of a memory.",
  "What would you do if you weren't afraid?",
  "Write about the last time you laughed until you cried.",
  "Imagine finding this message 10 years from now. What does it say?",
  "Describe a moment of perfect stillness.",
  "Write about someone who taught you something without meaning to.",
  "What does forgiveness look like?",
  "Tell the story of a beginning disguised as an ending.",
  "Write about a color that reminds you of someone.",
  "Describe the weight of something you're carrying.",
  "What small moment do you wish you could bottle up forever?",
  "Write a postcard from a place that only exists in your mind.",
  "Describe a time when silence said everything.",
  "What would you tell the stars if they were listening?"
];

// Set canvas size
function resizeCanvas() {
  const rect = canvas.getBoundingClientRect();
  canvas.width = rect.width;
  canvas.height = rect.height;
  drawBottle();
}

// Draw the bottle
function drawBottle() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  
  // Save context and rotate
  ctx.save();
  ctx.translate(canvas.width / 2, canvas.height / 2.5);
  ctx.rotate(-0.3);
  
  const bottleLength = canvas.width * 0.55;
  const bottleRadius = 45;
  
  ctx.fillStyle = "#fff";
  ctx.strokeStyle = "#000";
  ctx.lineWidth = 3;
  
  // Main bottle body - elongated cylinder
  ctx.beginPath();
  // Left cap
  ctx.arc(-bottleLength/2, 0, bottleRadius, Math.PI/2, -Math.PI/2, true);
  // Top edge
  ctx.lineTo(bottleLength/2 - 20, -bottleRadius);
  // Right cap (smaller, tapered)
  ctx.arc(bottleLength/2 - 20, 0, bottleRadius, -Math.PI/2, Math.PI/2, false);
  // Bottom edge
  ctx.lineTo(-bottleLength/2, bottleRadius);
  ctx.closePath();
  ctx.fill();
  ctx.stroke();
  
  // Bottle neck (narrow part on left)
  const neckLength = 40;
  const neckRadius = 25;
  ctx.beginPath();
  ctx.arc(-bottleLength/2 - neckLength, 0, neckRadius, Math.PI/2, -Math.PI/2, true);
  ctx.lineTo(-bottleLength/2, -neckRadius);
  ctx.lineTo(-bottleLength/2, neckRadius);
  ctx.closePath();
  ctx.fill();
  ctx.stroke();
  
  // Cork/cap
  ctx.fillStyle = "#8B4513";
  const capWidth = 25;
  const capRadius = 28;
  ctx.beginPath();
  ctx.ellipse(-bottleLength/2 - neckLength - capWidth/2, 0, capWidth, capRadius, 0, 0, Math.PI * 2);
  ctx.fill();
  ctx.stroke();
  
  // Cork ridges
  ctx.strokeStyle = "#654321";
  ctx.lineWidth = 2;
  ctx.beginPath();
  ctx.moveTo(-bottleLength/2 - neckLength - capWidth - 5, -15);
  ctx.lineTo(-bottleLength/2 - neckLength + 5, -15);
  ctx.moveTo(-bottleLength/2 - neckLength - capWidth - 5, 0);
  ctx.lineTo(-bottleLength/2 - neckLength + 5, 0);
  ctx.moveTo(-bottleLength/2 - neckLength - capWidth - 5, 15);
  ctx.lineTo(-bottleLength/2 - neckLength + 5, 15);
  ctx.stroke();
  
  // Paper scroll inside (if not opened)
  if (!hasOpened) {
    ctx.fillStyle = "#fffef7";
    ctx.strokeStyle = "#000";
    ctx.lineWidth = 2;
    
    // Rolled paper cylinder
    const paperLength = bottleLength * 0.35;
    const paperRadius = 22;
    
    ctx.beginPath();
    ctx.rect(-paperLength/2, -paperRadius, paperLength, paperRadius * 2);
    ctx.fill();
    ctx.stroke();
    
    // Paper end curves
    ctx.beginPath();
    ctx.ellipse(-paperLength/2, 0, 5, paperRadius, 0, 0, Math.PI * 2);
    ctx.fill();
    ctx.stroke();
    
    ctx.beginPath();
    ctx.ellipse(paperLength/2, 0, 5, paperRadius, 0, 0, Math.PI * 2);
    ctx.fill();
    ctx.stroke();
    
    // String tied around middle
    ctx.strokeStyle = "#8B0000";
    ctx.lineWidth = 4;
    ctx.beginPath();
    ctx.moveTo(-5, -paperRadius - 3);
    ctx.lineTo(-5, paperRadius + 3);
    ctx.moveTo(5, -paperRadius - 3);
    ctx.lineTo(5, paperRadius + 3);
    ctx.stroke();
    
    // String knot
    ctx.fillStyle = "#8B0000";
    ctx.beginPath();
    ctx.ellipse(0, -paperRadius - 8, 6, 4, 0, 0, Math.PI * 2);
    ctx.fill();
  }
  
  ctx.restore();
  
  // Waves
  ctx.strokeStyle = "#0066cc";
  ctx.lineWidth = 2;
  const waveY = canvas.height * 0.75;
  ctx.beginPath();
  for (let x = 0; x <= canvas.width; x += 20) {
    if (x === 0) {
      ctx.moveTo(x, waveY);
    } else {
      const y = waveY + Math.sin(x * 0.3) * 5;
      ctx.lineTo(x, y);
    }
  }
  ctx.stroke();
}

// Get random prompt
function getRandomPrompt() {
  const randomIndex = Math.floor(Math.random() * prompts.length);
  return prompts[randomIndex];
}

// Click handler
canvas.addEventListener('click', function() {
  hasOpened = true;
  const messageEl = document.getElementById('message');
  const instructionEl = document.getElementById('instruction');
  
  messageEl.textContent = `"${getRandomPrompt()}"`;
  messageEl.classList.add('show');
  instructionEl.textContent = 'Click the bottle again! I dare you';
  
  drawBottle();
});

// Initialize
resizeCanvas();
window.addEventListener('resize', resizeCanvas);
</script>

</body>
</html>
